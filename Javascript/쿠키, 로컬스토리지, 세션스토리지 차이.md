## 로컬 스토리지와 세션 스토리지

HTML5에 추가된 저장소로 간단한 키와 값을 저장할 수 있다. 키- 밸류 스토리지 형태

로컬스토리지와 세션 스토리지의 차이점은 데이터의 영구성이다.
`로컬스토리지`의 데이터는 사용자가 지우지않는 이상 계속 브라우저에 남아있다.
`세션스토리지`의 데이터는 윈도우나 브라우저 탭을 닫을 경우 제거된다.

지속적으로 필요한 데이터(자동로그인등)는 로컬 스토리지에 저장하고, 잠깐동안 필요한 정보( 일회성 로그인정보)는 세션스토리지에 저장된다.
비밀번호같은 중요한 정보는 절대 저장하지 않는게 좋다.

## 쿠키

쿠키는 만료기한이 있는 키-값 저장소

- 사용자 인증이 유효한 시간을 명시할 수 있으며, 유효 시간이 정해지면 브라우저가 종료되어도 인증이 유지됨
- 쿠키는 클라이언트의 상태 정보를 로컬에 저장했다가 참조한다.
- 쿠키의 단점 1) 매 HTTP요청마다 포함되어 api호출로 서버에 부담
- 2. 쿠키의 용량이 작음 3) 암호화존재하지 않음 => 사용자 정보 도난 위험있음

## 로컬 스토리지, 세션스토리지, 쿠키 차이점

웹 스토리지는 로컬에만 정보를 저장, 쿠키는 서버와 로컬에 정보를 저장한다.

## Cookie & Session 기반 인증

쿠키를 통해 클라이언트 로그인 상태를 유지시킬 수 있었지만, 가장 큰 단점은 쿠키가 유출 및 조작 당할 위험이 존재한다.
세션은 비밀번호 등 클라이언트의 인증 정보를 쿠키가 아닌 서버 측에 저장하고 관리한다.

## JWT기반 인증

JSON WEB Token이란 인증에 필요한 정보들을 암호화시킨 토큰을 말한다.
JWT기반 인증은 쿠키/세션 방식과 유사하게 jWt토큰을 HTTP헤더에 실어 서버가 클라이언트를 식별한다.

## 인증과정

1. 클라이언트 로그인 요청이 들어오면, 서버는 검증 후 클라이언트 고유 ID등의 정보를 payload에 담는다.
2. 암호화할 비밀키를 사용해 Access Token을 발급한다.
3. 클라이언트는 전달받은 토큰을 저장해두고, 서버에 요청할 때마다 토큰을 요청헤더 Authorization에 포함시켜 함께 전달한다.
4. 서버는 토큰의 signature를 비밀키로 복호화한 다음, 위변조 여부 및 유효 기간등을 확인한다.
5. 유효한 토큰이라면 요청에 응답한다.
