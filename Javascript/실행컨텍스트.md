### 실행컨텍스트란?

실행컨텍스트는 실행 가능한 코드가 실행되기 위해 필요한 환경이다.
즉, 실행 코드에 제공할 정보들을 모아놓은 객체이다.
동일한 스코프에 있는 코드들을 실행할 때 필요한 환경 정보들을 모아 컨텍스트를 구성하고, 이를 호출스택(콜스택)에 쌓아서 실행순서를 보장한다.

일반적으로 실행 가능한 코드는 `전역 코드`와 `함수 내 코드`이다.

- 변수 : 전역변수, 지역변수, 매개변수, 객체의 프로퍼티
- 함수 선언
- 변수의 유효범위
- this

일단 처음 코드를 실행하는 순간 모든 것을 포함하는 `전역 컨텍스트`가 생긴다.
모든 것을 관리하는 환경이다. 페이지가 종료될 때까지 유지된다.
전역 컨텍스트 말고도 `함수 컨텍스트`가 있다.
함수를 호출할 때마다 함수 컨텍스트가 하나씩 더 생긴다.

컨텍스트의 원칙 4가지

1. 먼저 전역 컨텍스트 하나 생성 후, 함수 호출시마다 컨텍스트가 생긴다.
2. 컨텍스트 생성 시 컨텍스트 안에 변수객체(arguments,varialbe),scope chain, this가 생성된다.
3. 컨텍스트 생성 후 함수가 실행되는데, 사용되는 변수들은 변수 객체 안에서 값을 찾고 없다면 스코프 체인을 따라 올라가며 찾는다.
4. 함수 실행이 마무리되면 해당 컨텍스트는 사라진다.(클로저 제외)

```js
var a = 1;
function outer() {
  function inner() {
    console.log(a);
    var a = 3;
  }
  inner();
  console.log(a);
}
outer();
console.log(a);
```

가장 먼저 자바스크립트 파일이 열리는 순간 전역 컨텍스트가 활성화된다.
따라서 전역 컨텍스트가 콜 스택에 쌓인다. 그리고 outer함수가 호출되면 자바스크립트 엔진은 outer에 대한 환경 정보를 수집해서 outer실행 컨텍스트를 생성한 후 콜스택에 담는다. 전역 컨텍스트와 관련된 코드의 실행을 중단하고 outer실행 컨텍스트와 관련된 코드를 순차적으로 실행한다.
다시 inner함수 실행 컨텍스트가 콜 스택의 가장 위에 담기면 outer컨텍스트는 중단하고 inner함수 내부 코드를 진행한다.
실행이 종료되면 콜 스택에서 제거되고 그 다음 순서에 있는 코드를 이어서 진행한다.

### 그렇다면 실행 컨텍스트의 역할이 도대체 무엇인가?

1. 선언에 의해 생성된 모든 식별자를 스코프를 구분하여 등록하고 상태변화를 지속적으로 관리한다.
2. 스코프는 중첩 관계에 의해 스코프 체인을 형성한다. 즉, 스코프 체인을 통해 상위 스코프로 이동하며 식별자를 검색할 수 있어야 한다.
3. 현재 실행 중인 코드의 실행 순서를 변경하고 다시 원래 순서로 돌아갈 수 있게 해준다.
